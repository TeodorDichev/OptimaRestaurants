"use strict";(self.webpackChunkangularapp=self.webpackChunkangularapp||[]).push([[860],{8860:(k,u,r)=>{r.r(u),r.d(u,{ManagerModule:()=>O});var l=r(6814),g=r(3377),p=r(8180),e=r(4769),d=r(6548),_=r(2836),m=r(1711),f=r(2174),v=r(9882);function x(n,c){1&n&&(e.TgZ(0,"span",19),e._uU(1,"\u0414\u0430"),e.qZA())}function h(n,c){1&n&&(e.TgZ(0,"span",19),e._uU(1,"\u041d\u0435"),e.qZA())}function C(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"div",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.infoRestaurant())}),e._UZ(2,"i",21),e.qZA(),e.TgZ(3,"div",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.editRestaurant())}),e._UZ(4,"i",22),e.qZA()()}}const y=function(n){return{selected:n}};function Z(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.selectedRestaurant(a))}),e.TgZ(2,"div")(3,"img",11),e.NdJ("error",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.missingIcon(a))}),e.qZA()(),e.TgZ(4,"div")(5,"div",12),e._uU(6),e.qZA(),e.TgZ(7,"div",13),e._uU(8),e.qZA(),e.TgZ(9,"div",13),e._uU(10),e.qZA()(),e.TgZ(11,"div")(12,"div",14),e._uU(13,"\u0421\u0440\u0435\u0434\u043d\u0430 \u043e\u0446\u0435\u043d\u043a\u0430: "),e._UZ(14,"app-star-rating",15),e.qZA(),e.TgZ(15,"div",16),e._uU(16,"\u0420\u0430\u0431\u043e\u0442\u0435\u0449: "),e.YNc(17,x,2,0,"span",17),e.YNc(18,h,2,0,"span",17),e.qZA()(),e.YNc(19,C,5,0,"div",18),e.qZA()()}if(2&n){const t=c.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(9,y,t===i.currentRestaurant)),e.xp6(2),e.s9C("src",t.iconPath,e.LSH),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Oqu(t.address),e.xp6(2),e.Oqu(t.city),e.xp6(4),e.Q6J("rating",t.restaurantAverageRating),e.xp6(3),e.Q6J("ngIf",t.isWorking),e.xp6(1),e.Q6J("ngIf",!t.isWorking),e.xp6(1),e.Q6J("ngIf",t==i.currentRestaurant)}}function M(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",23),e._UZ(2,"img",24),e.TgZ(3,"div")(4,"div",25),e._uU(5),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.qZA()(),e.TgZ(8,"div",20)(9,"div",3),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.getEmployeeInfo(a))}),e._UZ(10,"i",21),e.qZA(),e.TgZ(11,"div",3),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.fireEmployee(a.email,null==s.currentRestaurant?null:s.currentRestaurant.id))}),e._UZ(12,"i",26),e.qZA()()()()}if(2&n){const t=c.$implicit;e.xp6(2),e.s9C("src",t.profilePicturePath,e.LSH),e.xp6(3),e.AsE("",t.firstName," ",t.lastName,""),e.xp6(2),e.Oqu(t.email)}}function w(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.getEmployeeInfo(a.email))}),e._UZ(2,"img",7),e.TgZ(3,"div")(4,"div",8),e._uU(5),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.qZA()(),e.TgZ(8,"div")(9,"div",8),e._uU(10,"\u0421\u0440\u0435\u0434\u043d\u0430 \u043e\u0446\u0435\u043d\u043a\u0430: "),e._UZ(11,"app-star-rating",9),e.qZA()()()()}if(2&n){const t=c.$implicit;e.xp6(2),e.s9C("src",t.profilePicturePath,e.LSH),e.xp6(3),e.AsE("",t.firstName," ",t.lastName,""),e.xp6(2),e.Oqu(t.email),e.xp6(4),e.Q6J("rating",t.employeeAverageRating)}}const T=[{path:"",component:(()=>{class n{constructor(t,i,o){this.managerService=t,this.accountService=i,this.sharedService=o,this.employees=[]}ngOnInit(){this.getUser(),this.getManager()}addNewRestaurant(){this.sharedService.openRestaurantCreateModal()}editRestaurant(){this.sharedService.openRestaurantEditModal(this.currentRestaurant)}getCurrrentRestaurantEmployees(){this.currentRestaurant?.id&&this.managerService.getRestaurantEmployees(this.currentRestaurant.id).subscribe(t=>{this.employees=t})}getEmployeeInfo(t){this.sharedService.openUserInfoModal(t.email,"Employee")}fireEmployee(t,i){i&&this.managerService.fireEmployee(t,i).subscribe({next:o=>{this.sharedService.showNotification(!0,"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0432\u043e\u043b\u043d\u0438\u0445\u0442\u0435 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b!","\u0412\u0435\u0447\u0435 \u0442\u043e\u0439 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0438 \u0437\u0430 \u0432\u0430\u0441."),this.employees=o}})}selectedRestaurant(t){this.currentRestaurant=t,this.getCurrrentRestaurantEmployees()}infoRestaurant(){this.currentRestaurant&&this.sharedService.openRestaurantDetailsModal(this.currentRestaurant.id)}missingIcon(t){t.iconPath="assets/images/logo-bw-with-bg.png"}getUser(){this.accountService.user$.pipe((0,p.q)(1)).subscribe({next:t=>{this.user=t}})}getManager(){this.managerService.manager$.subscribe({next:t=>{this.manager=t,this.manager?.restaurants&&(this.selectedRestaurant(this.manager.restaurants[0]),this.getCurrrentRestaurantEmployees())}})}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(d.b),e.Y36(_.B),e.Y36(m.F))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-manager-logged-view"]],decls:14,vars:4,consts:[[1,"content","flex-direction-row"],[1,"content-screen","content-screen-fill"],[1,"text-muted","fst-italic","h4"],[1,"btn","btn-inverted",3,"click"],[1,"fa-solid","fa-plus-circle","fa-xl"],[1,"screen-left","rest-emp-list"],["class","list-items",4,"ngFor","ngForOf"],[1,"content-screen","content-screen-fill-row"],[1,"screen-right","rest-emp-list"],[1,"list-items"],[1,"restaurant-employee","cursor-pointer",3,"ngClass","click"],[1,"rest-img",3,"src","error"],[1,"h2","fw-bold"],[1,"h6","text-muted"],[1,"h5","fw-bold"],[3,"rating"],[1,"fw-bold"],["class","fw-normal fst-italic",4,"ngIf"],["class","buttons-info-edit",4,"ngIf"],[1,"fw-normal","fst-italic"],[1,"buttons-info-edit"],[1,"fa-solid","fa-info","fa-xl"],[1,"fa-solid","fa-pencil","fa-xl"],[1,"restaurant-employee"],[1,"emp-img",3,"src"],[1,"h4","fw-bold"],[1,"fa-solid","fa-user-large-slash","fa-xl"]],template:function(i,o){1&i&&(e._UZ(0,"nav-top"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2),e._uU(4),e.TgZ(5,"div",3),e.NdJ("click",function(){return o.addNewRestaurant()}),e._UZ(6,"i",4),e.qZA()(),e.TgZ(7,"div",5),e.YNc(8,Z,20,11,"div",6),e.qZA()(),e.TgZ(9,"div",7)(10,"div",2),e._uU(11),e.qZA(),e.TgZ(12,"div",8),e.YNc(13,M,13,4,"div",6),e.qZA()()()),2&i&&(e.xp6(4),e.hij(" \u0412\u0430\u0448\u0438\u0442\u0435 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0442\u0438, ",null==o.manager?null:o.manager.firstName," "),e.xp6(4),e.Q6J("ngForOf",null==o.manager?null:o.manager.restaurants),e.xp6(3),e.hij(" \u0421\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u0438 \u0432 ",null==o.currentRestaurant?null:o.currentRestaurant.name," "),e.xp6(2),e.Q6J("ngForOf",o.employees))},dependencies:[l.mk,l.sg,l.O5,f.T,v.S],styles:["app-manager-logged-view{background-color:#ffe7b9;display:flex;flex-direction:column;align-items:flex-start;flex:1 0 0;align-self:stretch}.rest-img[_ngcontent-%COMP%]{max-width:300px;aspect-ratio:3/2;width:100%!important;object-fit:cover;border-radius:8px 0 0 8px}.emp-img[_ngcontent-%COMP%]{max-width:120px;aspect-ratio:1/1;width:100%!important;object-fit:cover;border-radius:8px 0 0 8px}.rest-emp-list[_ngcontent-%COMP%]{gap:12px;overflow:scroll}.list-items[_ngcontent-%COMP%]{display:flex;align-self:stretch}.restaurant-employee[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-self:stretch;flex:1 0 0;gap:20px;border-radius:8px;justify-content:space-between;align-items:center;border:1px solid rgba(128,128,128,.336);padding-right:20px}.buttons-info-edit[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.screen-left[_ngcontent-%COMP%]{align-items:flex-start}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.restaurant-employee[_ngcontent-%COMP%]:hover{background-color:#f1f1f1cc}.content-screen[_ngcontent-%COMP%]{justify-content:flex-start;padding-right:0}.content[_ngcontent-%COMP%]{padding-bottom:0;padding-left:0;overflow:auto}.selected[_ngcontent-%COMP%]{background-color:#f1f1f1cc}.screen-right[_ngcontent-%COMP%]{justify-content:flex-start;align-items:flex-start}"]})}return n})()},{path:"employees-looking-for-job",component:(()=>{class n{constructor(t,i){this.managerService=t,this.sharedService=i,this.employeesLookingForJob=[]}ngOnInit(){this.getEmployeesLookingForJob()}getEmployeesLookingForJob(){this.managerService.getEmployeesLookingForJob().pipe((0,p.q)(1)).subscribe({next:t=>{this.employeesLookingForJob=t}})}getEmployeeInfo(t){this.sharedService.openUserInfoModal(t,"Employee")}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(d.b),e.Y36(m.F))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-employees-looking-for-job"]],decls:7,vars:1,consts:[[1,"content","flex-direction-row"],[1,"content-screen","content-screen-fill"],[1,"text-muted","fst-italic","h4"],[1,"screen-right","emp-list"],["class","list-items",4,"ngFor","ngForOf"],[1,"list-items"],[1,"employee",3,"click"],[1,"emp-img",3,"src"],[1,"h4","fw-bold"],[3,"rating"]],template:function(i,o){1&i&&(e._UZ(0,"nav-top"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2),e._uU(4," \u0412\u0441\u0438\u0447\u043a\u0438 \u0440\u0430\u0431\u043e\u0442\u043d\u0438\u0446\u0438, \u0442\u044a\u0440\u0441\u0435\u0449\u0438 \u0440\u0430\u0431\u043e\u0442\u0430 "),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,w,12,5,"div",4),e.qZA()()()),2&i&&(e.xp6(6),e.Q6J("ngForOf",o.employeesLookingForJob))},dependencies:[l.sg,f.T,v.S],styles:["app-employees-looking-for-job{background-color:#fff0d5;display:flex;flex-direction:column;align-items:flex-start;flex:1 0 0;align-self:stretch}.employee[_ngcontent-%COMP%]:hover{background-color:#f1f1f1cc;cursor:pointer}.emp-img[_ngcontent-%COMP%]{max-width:150px;aspect-ratio:1/1;width:100%!important;object-fit:cover;border-radius:8px 0 0 8px}.list-items[_ngcontent-%COMP%]{display:flex;align-self:stretch}.emp-list[_ngcontent-%COMP%]{gap:12px;overflow:scroll}.employee[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-self:stretch;flex:1 0 0;gap:20px;border-radius:8px;justify-content:space-between;align-items:center;border:1px solid rgba(128,128,128,.336);padding-right:20px}.content-screen[_ngcontent-%COMP%]{justify-content:flex-start;padding-right:0}.screen-right[_ngcontent-%COMP%]{justify-content:flex-start;align-items:flex-start}.content[_ngcontent-%COMP%]{padding-bottom:0;padding-left:0}"]})}return n})()}];let A=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[g.Bz.forChild(T),g.Bz]})}return n})();var E=r(6208);let O=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[l.ez,A,E.m]})}return n})()}}]);