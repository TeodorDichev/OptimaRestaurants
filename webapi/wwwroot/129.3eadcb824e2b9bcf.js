"use strict";(self.webpackChunkangularapp=self.webpackChunkangularapp||[]).push([[129],{9129:(ae,x,l)=>{l.r(x),l.d(x,{AccountModule:()=>oe});var g=l(6814),m=l(3377),n=l(95),e=l(4769),d=l(2836),Z=l(6548),y=l(6990),h=l(1322),v=l(9882);function b(r,o){1&r&&(e.TgZ(0,"span",16),e._uU(1," \u041f\u043e\u043b\u0435\u0442\u043e \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e! "),e.qZA())}function T(r,o){1&r&&(e.TgZ(0,"span",16),e._uU(1," \u041f\u043e\u043b\u0435\u0442\u043e \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e! "),e.qZA())}function E(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(){e.CHM(t);const u=e.oxw(2);return e.KtG(u.resendEmailConfirmaitonLink())}),e._uU(1," \u041d\u0435 \u0441\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0438\u043c\u0435\u0439\u043b \u0437\u0430 \u043f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0430\u0432\u0430\u043d\u0435? \u041d\u0430\u0442\u0438\u0441\u043d\u0435\u0442\u0435 \u0442\u0443\u043a. "),e.qZA()}}function w(r,o){if(1&r&&(e.TgZ(0,"div",17),e._UZ(1,"app-validation-messages",18),e.YNc(2,E,2,0,"a",19),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("errorMessages",t.errorMessages),e.xp6(1),e.Q6J("ngIf",t.errorMessages[0].includes("\u041c\u043e\u043b\u044f \u043f\u043e\u0442\u0432\u044a\u0440\u0434\u0435\u0442\u0435 \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441\u0430 \u0441\u0438."))}}let A=(()=>{class r{constructor(t,i,u,s,a){this.accountService=t,this.managerService=i,this.employeeService=u,this.router=s,this.formBuilder=a,this.loginForm=new n.cw({}),this.submitted=!1,this.errorMessages=[],this.isText=!1,this.type="Password",this.eyeIcon="fa-eye-slash"}ngOnInit(){this.initializeForm()}initializeForm(){this.loginForm=this.formBuilder.group({userName:["",[n.kI.required]],password:["",[n.kI.required]]})}login(){this.submitted=!0,this.errorMessages=[],this.loginForm.valid&&this.accountService.login(this.loginForm.value).subscribe({next:t=>{this.accountService.setUser(t),t.isManager?t.isManager&&this.managerService.getManager(t.email).subscribe({next:i=>{this.managerService.setManager(i)}}):this.employeeService.getEmployee(t.email).subscribe({next:i=>{this.employeeService.setEmployee(i)}})},error:t=>{t.error.errors?this.errorMessages=t.error.errors:this.errorMessages.push(t.error)}})}resendEmailConfirmaitonLink(){this.router.navigateByUrl("/account/send-email/resend-email-confirmation-link")}hideShowPass(){this.isText=!this.isText,this.eyeIcon=this.isText?"fa-eye":"fa-eye-slash",this.type=this.isText?"text":"password"}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(d.B),e.Y36(Z.b),e.Y36(y.G),e.Y36(m.F0),e.Y36(n.qu))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:24,vars:12,consts:[[1,"content","align-items-center","justify-content-center"],[1,"content-screen","slide-in-blurred-left",3,"formGroup","ngSubmit"],[1,"h1","theme-main","fw-bold"],[1,"input-field"],[1,"fa","fa-user","p-2"],["formControlName","userName","type","text","placeholder","\u0418\u043c\u0435\u0439\u043b"],["class","text-danger",4,"ngIf"],[1,"fa","fa-lock","p-2"],["formControlName","password","placeholder","\u041f\u0430\u0440\u043e\u043b\u0430",3,"type"],[3,"click"],["class","form-floating",4,"ngIf"],[1,"form-inline"],["routerLink","/account/send-email/forgot-username-or-password",1,"font-weight-bold","theme-main"],["type","submit",1,"btn","btn-chocolate","w-100"],[1,"text-center","text-muted"],["routerLink","/account/register-employee",1,"theme-main"],[1,"text-danger"],[1,"form-floating"],[3,"errorMessages"],["class","theme-main",3,"click",4,"ngIf"],[1,"theme-main",3,"click"]],template:function(i,u){if(1&i&&(e._UZ(0,"nav-top"),e.TgZ(1,"div",0)(2,"form",1),e.NdJ("ngSubmit",function(){return u.login()}),e.TgZ(3,"div",2),e._uU(4,"\u0412\u043b\u0438\u0437\u0430\u043d\u0435 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b"),e.qZA(),e.TgZ(5,"div",3),e._UZ(6,"span",4)(7,"input",5),e.qZA(),e.YNc(8,b,2,0,"span",6),e.TgZ(9,"div",3),e._UZ(10,"span",7)(11,"input",8),e.TgZ(12,"span",9),e.NdJ("click",function(){return u.hideShowPass()}),e.qZA()(),e.YNc(13,T,2,0,"span",6),e.YNc(14,w,3,2,"div",10),e.TgZ(15,"div",11)(16,"a",12),e._uU(17,"\u0417\u0430\u0431\u0440\u0430\u0432\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430 \u0438\u043b\u0438 \u0438\u043c\u0435\u0439\u043b?"),e.qZA()(),e.TgZ(18,"button",13),e._uU(19,"\u0412\u043b\u0435\u0437"),e.qZA(),e.TgZ(20,"div",14),e._uU(21,"\u041d\u044f\u043c\u0430\u0442\u0435 \u0430\u043a\u0430\u0443\u043d\u0442? "),e.TgZ(22,"a",15),e._uU(23,"\u0421\u044a\u0437\u0434\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0444\u0438\u043b"),e.qZA()()()()),2&i){let s,a,c,p;e.xp6(2),e.Q6J("formGroup",u.loginForm),e.xp6(5),e.ekj("is-invalid",u.submitted&&(null==(s=u.loginForm.get("userName"))?null:s.errors)),e.xp6(1),e.Q6J("ngIf",u.submitted&&(null==(a=u.loginForm.get("userName"))?null:a.hasError("required"))),e.xp6(3),e.ekj("is-invalid",u.submitted&&(null==(c=u.loginForm.get("password"))?null:c.errors)),e.Q6J("type",u.type),e.xp6(1),e.Gre("fa ",u.eyeIcon,""),e.xp6(1),e.Q6J("ngIf",u.submitted&&(null==(p=u.loginForm.get("password"))?null:p.hasError("required"))),e.xp6(1),e.Q6J("ngIf",u.errorMessages.length>0)}},dependencies:[g.O5,m.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,h.s,v.S],styles:["app-login{background-image:url(login.cdbcb1abd9cec256.png)!important;display:flex;flex-direction:column;align-items:flex-start;flex:1 0 0;align-self:stretch}.custom-date-input[_ngcontent-%COMP%]{border:transparent}.content-screen[_ngcontent-%COMP%]{border-radius:10% 90%/90% 10%;padding:60px 45px;background-color:#ffffffe6}a[_ngcontent-%COMP%]{text-decoration:none}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{border:none;outline:none;box-shadow:none;width:100%}.fa-eye-slash.btn[_ngcontent-%COMP%]{border:none;outline:none;box-shadow:none}"]})}return r})();var f=l(8180),_=l(1711);function k(r,o){1&r&&(e.TgZ(0,"div",21),e._uU(1," \u0412\u0441\u0438\u0447\u043a\u0438 \u043f\u043e\u043b\u0435\u0442\u0430 \u0441\u0430 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0438! "),e.qZA())}function I(r,o){1&r&&(e.TgZ(0,"div",21),e._uU(1," \u0418\u043c\u0435\u0442\u043e \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044f\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0441\u0430 \u043c\u0435\u0436\u0434\u0443 2 \u0438 30 \u0441\u0438\u043c\u0432\u043e\u043b\u0430! "),e.qZA())}function M(r,o){1&r&&(e.TgZ(0,"div",21),e._uU(1," \u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441! "),e.qZA())}function B(r,o){1&r&&(e.TgZ(0,"div",21),e._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043c\u0435\u0436\u0434\u0443 6 \u0438 30 \u0441\u0438\u043c\u0432\u043e\u043b\u0430! "),e.qZA())}function q(r,o){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,k,2,0,"div",20),e.YNc(2,I,2,0,"div",20),e.YNc(3,M,2,0,"div",20),e.YNc(4,B,2,0,"div",20),e.qZA()),2&r){const t=e.oxw();let i,u,s,a;e.xp6(1),e.Q6J("ngIf",(null==(i=t.registerForm.get("firstName"))?null:i.hasError("required"))||(null==(i=t.registerForm.get("lastName"))?null:i.hasError("required"))||(null==(i=t.registerForm.get("email"))?null:i.hasError("required"))||(null==(i=t.registerForm.get("password"))?null:i.hasError("required"))||(null==(i=t.registerForm.get("birthDate"))?null:i.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==(u=t.registerForm.get("firstName"))?null:u.hasError("minlength"))||(null==(u=t.registerForm.get("firstName"))?null:u.hasError("maxlength"))||(null==(u=t.registerForm.get("lastName"))?null:u.hasError("minlength"))||(null==(u=t.registerForm.get("lastName"))?null:u.hasError("maxlength"))),e.xp6(1),e.Q6J("ngIf",null==(s=t.registerForm.get("email"))?null:s.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",(null==(a=t.registerForm.get("password"))?null:a.hasError("minlength"))||(null==(a=t.registerForm.get("password"))?null:a.hasError("maxlength")))}}function N(r,o){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"app-validation-messages",22),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("errorMessages",t.errorMessages)}}function S(r,o){1&r&&(e.TgZ(0,"div",27),e._uU(1," \u0412\u0441\u0438\u0447\u043a\u0438 \u043f\u043e\u043b\u0435\u0442\u0430 \u0441\u0430 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0438! "),e.qZA())}function J(r,o){1&r&&(e.TgZ(0,"div",27),e._uU(1," \u0418\u043c\u0435\u0442\u043e \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044f\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0441\u0430 \u043c\u0435\u0436\u0434\u0443 2 \u0438 30 \u0441\u0438\u043c\u0432\u043e\u043b\u0430! "),e.qZA())}function P(r,o){1&r&&(e.TgZ(0,"div",27),e._uU(1," \u0413\u0440\u0430\u0434\u044a\u0442 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u0441 \u043f\u043e\u0432\u0435\u0447\u0435 \u043e\u0442 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430! "),e.qZA())}function Y(r,o){1&r&&(e.TgZ(0,"div",27),e._uU(1," \u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441! "),e.qZA())}function D(r,o){1&r&&(e.TgZ(0,"div",27),e._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043c\u0435\u0436\u0434\u0443 6 \u0438 30 \u0441\u0438\u043c\u0432\u043e\u043b\u0430! "),e.qZA())}function Q(r,o){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,S,2,0,"div",26),e.YNc(2,J,2,0,"div",26),e.YNc(3,P,2,0,"div",26),e.YNc(4,Y,2,0,"div",26),e.YNc(5,D,2,0,"div",26),e.qZA()),2&r){const t=e.oxw();let i,u,s,a,c;e.xp6(1),e.Q6J("ngIf",(null==(i=t.registerForm.get("firstName"))?null:i.hasError("required"))||(null==(i=t.registerForm.get("lastName"))?null:i.hasError("required"))||(null==(i=t.registerForm.get("email"))?null:i.hasError("required"))||(null==(i=t.registerForm.get("password"))?null:i.hasError("required"))||(null==(i=t.registerForm.get("birthDate"))?null:i.hasError("required"))),e.xp6(1),e.Q6J("ngIf",(null==(u=t.registerForm.get("firstName"))?null:u.hasError("minlength"))||(null==(u=t.registerForm.get("firstName"))?null:u.hasError("maxlength"))||(null==(u=t.registerForm.get("lastName"))?null:u.hasError("minlength"))||(null==(u=t.registerForm.get("lastName"))?null:u.hasError("maxlength"))),e.xp6(1),e.Q6J("ngIf",null==(s=t.registerForm.get("city"))?null:s.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(a=t.registerForm.get("email"))?null:a.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",(null==(c=t.registerForm.get("password"))?null:c.hasError("minlength"))||(null==(c=t.registerForm.get("password"))?null:c.hasError("maxlength")))}}function L(r,o){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"app-validation-messages",28),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("errorMessages",t.errorMessages)}}function O(r,o){1&r&&(e.TgZ(0,"div",1),e._uU(1," \u0418\u043c\u0435\u0439\u043b\u044a\u0442 \u0432\u0438 \u0431\u0435\u0448\u0435 \u043f\u043e\u0442\u0432\u044a\u0440\u0434\u0435\u043d, \u043c\u043e\u0436\u0435 \u0434\u0430 \u0437\u0430\u0442\u0432\u043e\u0440\u0438\u0442\u0435 \u0435\u043a\u0440\u0430\u043d\u0430.\n"),e.qZA())}function j(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"a",2),e.NdJ("click",function(){e.CHM(t);const u=e.oxw();return e.KtG(u.resendEmailConfirmaitonLink())}),e._uU(2," \u041f\u0440\u0435\u043f\u0440\u0430\u0449\u0430\u043d\u0435 \u043d\u0430 \u043b\u0438\u043d\u043a \u0437\u0430 \u043f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0435\u043d\u0438\u0435. "),e.qZA()()}}function z(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1," Resend Email Confirmation Link "),e.qZA())}function H(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1," Retrieve your username or password "),e.qZA())}function K(r,o){1&r&&(e.TgZ(0,"span",17),e._uU(1," \u041f\u043e\u043b\u0435\u0442\u043e \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e! "),e.qZA())}function X(r,o){1&r&&(e.TgZ(0,"span",17),e._uU(1," \u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441! "),e.qZA())}function $(r,o){if(1&r&&(e.TgZ(0,"div",18),e._UZ(1,"app-validation-messages",19),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("errorMessages",t.errorMessages)}}function V(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const u=e.oxw();return e.KtG(u.sendEmail())}),e.TgZ(3,"div",4)(4,"h1",5),e.YNc(5,z,2,0,"span",6),e.YNc(6,H,2,0,"span",6),e.qZA()(),e.TgZ(7,"div",7),e._UZ(8,"span",8)(9,"input",9),e.qZA(),e.YNc(10,K,2,0,"span",10),e.YNc(11,X,2,0,"span",10),e.YNc(12,$,2,1,"div",11),e.TgZ(13,"div",12)(14,"div",13)(15,"div",14)(16,"button",15),e._uU(17,"\u0418\u0437\u043f\u0440\u0430\u0449\u0430\u043d\u0435"),e.qZA()()(),e.TgZ(18,"div",13)(19,"div",14)(20,"button",16),e.NdJ("click",function(){e.CHM(t);const u=e.oxw();return e.KtG(u.cancel())}),e._uU(21,"\u041e\u0442\u043a\u0430\u0437"),e.qZA()()()()()()()}if(2&r){const t=e.oxw();let i,u,s;e.xp6(2),e.Q6J("formGroup",t.emailForm),e.xp6(3),e.Q6J("ngIf",t.mode.includes("resendEmailConfirmationLink")),e.xp6(1),e.Q6J("ngIf",t.mode.includes("forgotUsernameOrPassword")),e.xp6(3),e.ekj("is-invalid",t.submitted&&(null==(i=t.emailForm.get("email"))?null:i.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&(null==(u=t.emailForm.get("email"))?null:u.hasError("required"))),e.xp6(1),e.Q6J("ngIf",t.submitted&&(null==(s=t.emailForm.get("email"))?null:s.hasError("pattern"))),e.xp6(1),e.Q6J("ngIf",t.errorMessages.length>0)}}function ee(r,o){1&r&&(e.TgZ(0,"span",21),e._uU(1," \u041f\u043e\u043b\u0435\u0442\u043e \u0435 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e! "),e.qZA())}function te(r,o){1&r&&(e.TgZ(0,"span",21),e._uU(1," \u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043c\u0435\u0436\u0434\u0443 6 \u0438 30 \u0441\u0438\u043c\u0432\u043e\u043b\u0430! "),e.qZA())}function ue(r,o){if(1&r&&(e.TgZ(0,"div",22),e._UZ(1,"app-validation-messages",23),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("errorMessages",t.errorMessages)}}function re(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const u=e.oxw();return e.KtG(u.resetPassword())}),e.TgZ(3,"div",4)(4,"h1",5),e._uU(5," Change your password "),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7),e._UZ(8,"span",8)(9,"input",9),e.qZA()(),e.TgZ(10,"div",10)(11,"div",7),e._UZ(12,"span",11)(13,"input",12),e.TgZ(14,"span",13),e.NdJ("click",function(){e.CHM(t);const u=e.oxw();return e.KtG(u.hideShowPass())}),e.qZA()(),e.YNc(15,ee,2,0,"span",14),e.YNc(16,te,2,0,"span",14),e.qZA(),e.YNc(17,ue,2,1,"div",15),e.TgZ(18,"div",16)(19,"div",17)(20,"div",18)(21,"button",19),e._uU(22,"\u041f\u0440\u043e\u043c\u044f\u043d\u0430 \u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430"),e.qZA()()(),e.TgZ(23,"div",17)(24,"div",18)(25,"button",20),e.NdJ("click",function(){e.CHM(t);const u=e.oxw();return e.KtG(u.cancel())}),e._uU(26,"\u041e\u0442\u043a\u0430\u0437"),e.qZA()()()()()()()}if(2&r){const t=e.oxw();let i,u,s;e.xp6(2),e.Q6J("formGroup",t.resetPasswordForm),e.xp6(11),e.ekj("is-invalid",t.submitted&&(null==(i=t.resetPasswordForm.get("newPassword"))?null:i.errors)),e.Q6J("type",t.type),e.xp6(1),e.Gre("fa ",t.eyeIcon,""),e.xp6(1),e.Q6J("ngIf",t.submitted&&(null==(u=t.resetPasswordForm.get("newPassword"))?null:u.hasError("required"))),e.xp6(1),e.Q6J("ngIf",t.submitted&&(null==(s=t.resetPasswordForm.get("newPassword"))?null:s.hasError("minlength"))||(null==(s=t.resetPasswordForm.get("newPassword"))?null:s.hasError("maxlength"))),e.xp6(1),e.Q6J("ngIf",t.errorMessages.length>0)}}const ie=[{path:"login",component:A},{path:"register-manager",component:(()=>{class r{constructor(t,i,u,s,a){this.accountService=t,this.sharedService=i,this.managerService=u,this.router=s,this.formBuilder=a,this.registerForm=new n.cw({}),this.submitted=!1,this.errorMessages=[],this.isText=!1,this.type="Password",this.eyeIcon="fa-eye-slash"}ngOnInit(){this.initializeForm()}initializeForm(){this.registerForm=this.formBuilder.group({firstName:["",[n.kI.required,n.kI.minLength(2),n.kI.maxLength(30)]],lastName:["",[n.kI.required,n.kI.minLength(2),n.kI.maxLength(30)]],email:["",[n.kI.required,n.kI.pattern("^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$")]],password:["",[n.kI.required,n.kI.minLength(6),n.kI.maxLength(30)]]})}registerManager(){this.submitted=!0,this.errorMessages=[],this.registerForm.valid&&this.accountService.registerManager(this.registerForm.value).pipe((0,f.q)(1)).subscribe({next:t=>{this.accountService.setUser(t),this.managerService.getManager(t.email).pipe((0,f.q)(1)).subscribe({next:i=>{this.managerService.setManager(i)}}),this.sharedService.showNotification(!0,"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u044a\u0437\u0434\u0430\u0434\u0435\u043d \u0430\u043a\u0430\u0443\u043d\u0442!","\u0412\u0430\u0448\u0438\u044f\u0442 \u0430\u043a\u0430\u0443\u043d\u0442 \u0431\u0435\u0448\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u044a\u0437\u0434\u0430\u0434\u0435\u043d! \u041c\u043e\u043b\u044f, \u043f\u043e\u0442\u0432\u044a\u0440\u0434\u0435\u0442\u0435 \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441\u0430 \u0441\u0438."),this.router.navigateByUrl("/manager")},error:t=>{t.error.errors?this.errorMessages=t.error.errors:this.errorMessages.push(t.error)}})}hideShowPass(){this.isText=!this.isText,this.eyeIcon=this.isText?"fa-eye":"fa-eye-slash",this.type=this.isText?"text":"password"}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(d.B),e.Y36(_.F),e.Y36(Z.b),e.Y36(m.F0),e.Y36(n.qu))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-register-manager"]],decls:33,vars:15,consts:[[1,"content"],[1,"content-screen","slide-in-blurred-left"],[1,"screen-left"],[1,"theme-main","h1"],[1,"pacifico","theme-main","h3"],[1,"form-screen",3,"formGroup","ngSubmit"],[1,"input-field"],[1,"fa","fa-user","p-2"],["formControlName","firstName","type","text","placeholder","\u0418\u043c\u0435"],["formControlName","lastName","type","text","placeholder","\u0424\u0430\u043c\u0438\u043b\u0438\u044f"],[1,"fa","fa-envelope","p-2"],["formControlName","email","type","text","placeholder","\u0418\u043c\u0435\u0439\u043b"],[1,"fa","fa-lock","p-2"],["formControlName","password","placeholder","\u041f\u0430\u0440\u043e\u043b\u0430",3,"type"],[3,"click"],[4,"ngIf"],[1,"text-center"],["routerLink","/account/register-employee",1,"theme-main"],["type","submit",1,"btn","btn-chocolate"],["routerLink","/account/login",1,"theme-main"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[3,"errorMessages"]],template:function(i,u){if(1&i&&(e._UZ(0,"nav-top"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),e._uU(5,"\u041d\u043e\u0432 \u0430\u043a\u0430\u0443\u043d\u0442"),e.qZA(),e.TgZ(6,"div",4),e._uU(7,"\u041c\u0435\u043d\u0438\u0434\u0436\u044a\u0440"),e.qZA(),e.TgZ(8,"form",5),e.NdJ("ngSubmit",function(){return u.registerManager()}),e.TgZ(9,"div",6),e._UZ(10,"span",7)(11,"input",8),e.qZA(),e.TgZ(12,"div",6),e._UZ(13,"span",7)(14,"input",9),e.qZA(),e.TgZ(15,"div",6),e._UZ(16,"span",10)(17,"input",11),e.qZA(),e.TgZ(18,"div",6),e._UZ(19,"span",12)(20,"input",13),e.TgZ(21,"span",14),e.NdJ("click",function(){return u.hideShowPass()}),e.qZA()(),e.YNc(22,q,5,4,"div",15),e.YNc(23,N,2,1,"div",15),e.TgZ(24,"div",16)(25,"a",17),e._uU(26,"\u0421\u043c\u044f\u043d\u0430 \u043a\u044a\u043c \u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a"),e.qZA()(),e.TgZ(27,"button",18),e._uU(28,"\u0421\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435 \u043d\u0430 \u0430\u043a\u0430\u0443\u043d\u0442"),e.qZA(),e.TgZ(29,"div",16),e._uU(30,"\u0412\u0435\u0447\u0435 \u0438\u043c\u0430\u0442\u0435 \u0430\u043a\u0430\u0443\u043d\u0442? "),e.TgZ(31,"a",19),e._uU(32,"\u0412\u043b\u0435\u0437\u0442\u0435"),e.qZA()()()()()()),2&i){let s,a,c,p;e.xp6(8),e.Q6J("formGroup",u.registerForm),e.xp6(3),e.ekj("is-invalid",u.submitted&&(null==(s=u.registerForm.get("firstName"))?null:s.errors)),e.xp6(3),e.ekj("is-invalid",u.submitted&&(null==(a=u.registerForm.get("lastName"))?null:a.errors)),e.xp6(3),e.ekj("is-invalid",u.submitted&&(null==(c=u.registerForm.get("email"))?null:c.errors)),e.xp6(3),e.ekj("is-invalid",u.submitted&&(null==(p=u.registerForm.get("password"))?null:p.errors)),e.Q6J("type",u.type),e.xp6(1),e.Gre("fa ",u.eyeIcon,""),e.xp6(1),e.Q6J("ngIf",u.submitted),e.xp6(1),e.Q6J("ngIf",u.errorMessages.length>0)}},dependencies:[g.O5,m.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,h.s,v.S],styles:["app-register-manager{background-image:url(manager-signup-img.6332697ff8b39d41.png)!important;display:flex;flex-direction:column;align-items:flex-start;flex:1 0 0;align-self:stretch}.custom-date-input[_ngcontent-%COMP%]{border:transparent}.screen-left[_ngcontent-%COMP%]{border-radius:10% 40%/40% 10%;padding:40px;background-color:#ffffffe6;justify-content:center;gap:14px}.form-screen[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 0 0;align-self:stretch;gap:14px}.content[_ngcontent-%COMP%]{justify-content:center;align-items:center}a[_ngcontent-%COMP%]{text-decoration:none}.fa-eye-slash.btn[_ngcontent-%COMP%]{border:none;outline:none;box-shadow:none}"]})}return r})()},{path:"register-employee",component:(()=>{class r{constructor(t,i,u,s,a){this.accountService=t,this.sharedService=i,this.employeeService=u,this.router=s,this.formBuilder=a,this.registerForm=new n.cw({}),this.submitted=!1,this.errorMessages=[],this.isText=!1,this.type="Password",this.eyeIcon="fa-eye-slash"}ngOnInit(){this.initializeForm()}initializeForm(){this.registerForm=this.formBuilder.group({firstName:["",[n.kI.required,n.kI.minLength(2),n.kI.maxLength(30)]],lastName:["",[n.kI.required,n.kI.minLength(2),n.kI.maxLength(30)]],city:["",[n.kI.required,n.kI.minLength(2)]],birthDate:["",[n.kI.required]],email:["",[n.kI.required,n.kI.pattern("^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$")]],password:["",[n.kI.required,n.kI.minLength(6),n.kI.maxLength(30)]]})}registerEmployee(){this.submitted=!0,this.errorMessages=[],this.registerForm.valid&&this.accountService.registerEmployee(this.registerForm.value).pipe((0,f.q)(1)).subscribe({next:t=>{this.accountService.setUser(t),this.employeeService.getEmployee(t.email).pipe((0,f.q)(1)).subscribe({next:i=>{this.employeeService.setEmployee(i)}}),this.sharedService.showNotification(!0,"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u044a\u0437\u0434\u0430\u0434\u0435\u043d \u0430\u043a\u0430\u0443\u043d\u0442!","\u0412\u0430\u0448\u0438\u044f\u0442 \u0430\u043a\u0430\u0443\u043d\u0442 \u0431\u0435\u0448\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u044a\u0437\u0434\u0430\u0434\u0435\u043d! \u041c\u043e\u043b\u044f, \u043f\u043e\u0442\u0432\u044a\u0440\u0434\u0435\u0442\u0435 \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441\u0430 \u0441\u0438."),this.router.navigateByUrl("/employee")},error:t=>{t.error.errors?this.errorMessages=t.error.errors:this.errorMessages.push(t.error)}})}hideShowPass(){this.isText=!this.isText,this.eyeIcon=this.isText?"fa-eye":"fa-eye-slash",this.type=this.isText?"text":"password"}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(d.B),e.Y36(_.F),e.Y36(y.G),e.Y36(m.F0),e.Y36(n.qu))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-register-employee"]],decls:43,vars:19,consts:[[1,"content"],[1,"content-screen","slide-in-blurred-left"],[1,"screen-left"],[1,"theme-main","h1"],[1,"pacifico","theme-main","h3"],["autocomplete","off",1,"form-screen",3,"formGroup","ngSubmit"],[1,"input-sm"],[1,"input-field"],[1,"fa","fa-user","p-2"],["formControlName","firstName","type","text","placeholder","\u0418\u043c\u0435"],["formControlName","lastName","type","text","placeholder","\u0424\u0430\u043c\u0438\u043b\u0438\u044f"],[1,"fa","fa-map-pin","p-2"],["formControlName","city","type","text","placeholder","\u0413\u0440\u0430\u0434"],[1,"fa","fa-calendar","p-2"],[1,"text-muted"],["formControlName","birthDate","type","date",1,"date-input"],[1,"fa","fa-envelope","p-2"],["formControlName","email","type","text","placeholder","\u0418\u043c\u0435\u0439\u043b"],[1,"fa","fa-lock","p-2"],["formControlName","password","placeholder","\u041f\u0430\u0440\u043e\u043b\u0430",3,"type"],[3,"click"],[4,"ngIf"],[1,"text-center"],["routerLink","/account/register-manager",1,"theme-main"],["type","submit",1,"btn","btn-chocolate"],["routerLink","/account/login",1,"theme-main"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[3,"errorMessages"]],template:function(i,u){if(1&i&&(e._UZ(0,"nav-top"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),e._uU(5,"\u041d\u043e\u0432 \u0430\u043a\u0430\u0443\u043d\u0442"),e.qZA(),e.TgZ(6,"div",4),e._uU(7,"\u0420\u0430\u0431\u043e\u0442\u043d\u0438\u043a"),e.qZA(),e.TgZ(8,"form",5),e.NdJ("ngSubmit",function(){return u.registerEmployee()}),e.TgZ(9,"div",6)(10,"div",7),e._UZ(11,"span",8)(12,"input",9),e.qZA(),e.TgZ(13,"div",7),e._UZ(14,"span",8)(15,"input",10),e.qZA()(),e.TgZ(16,"div",7),e._UZ(17,"span",11)(18,"input",12),e.qZA(),e.TgZ(19,"div",7),e._UZ(20,"span",13),e.TgZ(21,"span",14),e._uU(22,"\u0414\u0430\u0442\u0430 \u043d\u0430 \u0440\u0430\u0436\u0434\u0430\u043d\u0435:"),e.qZA(),e._UZ(23,"input",15),e.qZA(),e.TgZ(24,"div",6)(25,"div",7),e._UZ(26,"span",16)(27,"input",17),e.qZA(),e.TgZ(28,"div",7),e._UZ(29,"span",18)(30,"input",19),e.TgZ(31,"span",20),e.NdJ("click",function(){return u.hideShowPass()}),e.qZA()()(),e.YNc(32,Q,6,5,"div",21),e.YNc(33,L,2,1,"div",21),e.TgZ(34,"div",22)(35,"a",23),e._uU(36,"\u0421\u043c\u044f\u043d\u0430 \u043a\u044a\u043c \u043c\u0435\u043d\u0438\u0434\u0436\u044a\u0440"),e.qZA()(),e.TgZ(37,"button",24),e._uU(38,"\u0421\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435 \u043d\u0430 \u0430\u043a\u0430\u0443\u043d\u0442"),e.qZA(),e.TgZ(39,"div",22),e._uU(40,"\u0412\u0435\u0447\u0435 \u0438\u043c\u0430\u0442\u0435 \u0430\u043a\u0430\u0443\u043d\u0442? "),e.TgZ(41,"a",25),e._uU(42,"\u0412\u043b\u0435\u0437\u0442\u0435"),e.qZA()()()()()()),2&i){let s,a,c,p,C,F;e.xp6(8),e.Q6J("formGroup",u.registerForm),e.xp6(4),e.ekj("is-invalid",u.submitted&&(null==(s=u.registerForm.get("firstName"))?null:s.errors)),e.xp6(3),e.ekj("is-invalid",u.submitted&&(null==(a=u.registerForm.get("lastName"))?null:a.errors)),e.xp6(3),e.ekj("is-invalid",u.submitted&&(null==(c=u.registerForm.get("city"))?null:c.errors)),e.xp6(5),e.ekj("is-invalid",u.submitted&&(null==(p=u.registerForm.get("birthDate"))?null:p.errors)),e.xp6(4),e.ekj("is-invalid",u.submitted&&(null==(C=u.registerForm.get("email"))?null:C.errors)),e.xp6(3),e.ekj("is-invalid",u.submitted&&(null==(F=u.registerForm.get("password"))?null:F.errors)),e.Q6J("type",u.type),e.xp6(1),e.Gre("fa ",u.eyeIcon,""),e.xp6(1),e.Q6J("ngIf",u.submitted),e.xp6(1),e.Q6J("ngIf",u.errorMessages.length>0)}},dependencies:[g.O5,m.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,h.s,v.S],styles:["app-register-employee{background-image:url(employee-signup-img.0bedd64b868a9a53.png)!important;display:flex;flex-direction:column;align-items:flex-start;flex:1 0 0;align-self:stretch}.input-sm[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;gap:12px;justify-content:center}.custom-date-input[_ngcontent-%COMP%]{border:transparent}.screen-left[_ngcontent-%COMP%]{border-radius:10% 40%/40% 10%;padding:40px;background-color:#ffffffe6;justify-content:center;gap:14px}.form-screen[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 0 0;align-self:stretch;gap:14px}.content[_ngcontent-%COMP%]{justify-content:center;padding:10px;align-items:center}a[_ngcontent-%COMP%]{text-decoration:none}.date-input[_ngcontent-%COMP%]{background-color:transparent;border-color:transparent}.fa-eye-slash.btn[_ngcontent-%COMP%]{border:none;outline:none;box-shadow:none}"]})}return r})()},{path:"confirm-email",component:(()=>{class r{constructor(t,i,u,s){this.accountService=t,this.sharedService=i,this.router=u,this.activatedRoute=s,this.success=!0}ngOnInit(){this.activatedRoute.queryParamMap.subscribe({next:t=>{const i={token:t.get("token"),email:t.get("email")};this.accountService.confirmEmail(i).subscribe({next:u=>{this.sharedService.showNotification(!0,u.value.title,u.value.message)},error:u=>{this.success=!1,this.sharedService.showNotification(!1,"\u041d\u0435\u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0430\u0432\u0430\u043d\u0435 \u043d\u0430 \u0430\u043a\u0430\u0443\u043d\u0442\u0430",u.error)}})}})}resendEmailConfirmaitonLink(){this.router.navigateByUrl("/account/send-email/resend-email-confirmation-link")}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(d.B),e.Y36(_.F),e.Y36(m.F0),e.Y36(m.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-confirm-email"]],decls:2,vars:2,consts:[["class","container text-center",4,"ngIf"],[1,"container","text-center"],[1,"btn","btn-link",3,"click"]],template:function(i,u){1&i&&(e.YNc(0,O,2,0,"div",0),e.YNc(1,j,3,0,"div",0)),2&i&&(e.Q6J("ngIf",u.success),e.xp6(1),e.Q6J("ngIf",!u.success))},dependencies:[g.O5]})}return r})()},{path:"send-email/:mode",component:(()=>{class r{constructor(t,i,u,s,a){this.accountService=t,this.sharedService=i,this.formBuilder=u,this.router=s,this.activatedRoute=a,this.emailForm=new n.cw({}),this.submitted=!1,this.errorMessages=[]}ngOnInit(){this.accountService.user$.pipe((0,f.q)(1)).subscribe({next:t=>{if(t)this.router.navigateByUrl("/");else{const i=this.activatedRoute.snapshot.paramMap.get("mode");i&&(this.mode=i,console.log(i),this.initializeForm())}}})}initializeForm(){this.emailForm=this.formBuilder.group({email:["",[n.kI.required,n.kI.pattern("^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$")]]})}sendEmail(){this.submitted=!0,this.errorMessages=[],this.emailForm.valid&&this.mode&&(this.mode.includes("resend-email-confirmation-link")?this.accountService.resendEmailConfirmationLink(this.emailForm.get("email")?.value).subscribe({next:t=>{this.sharedService.showNotification(!0,t.value.title,t.value.message),this.router.navigateByUrl("/account/login")},error:t=>{t.error.errors?this.errorMessages=t.error.errors:this.errorMessages.push(t.error)}}):this.mode.includes("forgot-username-or-password")&&this.accountService.forgotUsernameOrPassword(this.emailForm.get("email")?.value).subscribe({next:t=>{this.sharedService.showNotification(!0,t.value.title,t.value.message),this.router.navigateByUrl("/account/login")},error:t=>{t.error.errors?this.errorMessages=t.error.errors:this.errorMessages.push(t.error)}}))}cancel(){this.router.navigateByUrl("/account/login")}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(d.B),e.Y36(_.F),e.Y36(n.qu),e.Y36(m.F0),e.Y36(m.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-send-email"]],decls:1,vars:1,consts:[["class","d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"col-12","col-lg-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"text-center","mb-4"],[1,"mb-3","font-weight-normal"],[4,"ngIf"],[1,"input-field","my-2"],[1,"fa","fa-envelope","p-2"],["formControlName","email","type","text","placeholder","\u0418\u043c\u0435\u0439\u043b",1,"col-5"],["class","text-danger",4,"ngIf"],["class","form-floating",4,"ngIf"],[1,"row"],[1,"col-6"],[1,"d-grid"],["type","submit",1,"btn","btn-success"],["type","button",1,"btn","btn-danger",3,"click"],[1,"text-danger"],[1,"form-floating"],[3,"errorMessages"]],template:function(i,u){1&i&&e.YNc(0,V,22,8,"div",0),2&i&&e.Q6J("ngIf",u.mode)},dependencies:[g.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,h.s]})}return r})()},{path:"reset-password",component:(()=>{class r{constructor(t,i,u,s,a){this.accountService=t,this.sharedService=i,this.formBuilder=u,this.router=s,this.activatedRoute=a,this.resetPasswordForm=new n.cw({}),this.submitted=!1,this.errorMessages=[],this.isText=!1,this.type="Password",this.eyeIcon="fa-eye-slash"}ngOnInit(){this.accountService.user$.pipe((0,f.q)(1)).subscribe({next:t=>{t?this.router.navigateByUrl("/"):this.activatedRoute.queryParamMap.subscribe({next:i=>{this.token=i.get("token"),this.email=i.get("email"),this.token&&this.email?this.initializeForm(this.email):this.router.navigateByUrl("/account/login")}})}})}initializeForm(t){this.resetPasswordForm=this.formBuilder.group({email:[{value:t,disabled:!0}],newPassword:["",[n.kI.required,n.kI.minLength(6),n.kI.maxLength(30)]]})}resetPassword(){if(this.submitted=!0,this.errorMessages=[],this.resetPasswordForm.valid&&this.email&&this.token){const t={token:this.token,email:this.email,password:this.resetPasswordForm.get("newPassword")?.value};this.accountService.resetPassword(t).subscribe({next:i=>{this.sharedService.showNotification(!0,i.value.title,i.value.message),this.router.navigateByUrl("/account/login")},error:i=>{i.error.errors?this.errorMessages=i.error.errors:this.errorMessages.push(i.error)}})}}cancel(){this.router.navigateByUrl("/account/login")}hideShowPass(){this.isText=!this.isText,this.eyeIcon=this.isText?"fa-eye":"fa-eye-slash",this.type=this.isText?"text":"password"}static#e=this.\u0275fac=function(i){return new(i||r)(e.Y36(d.B),e.Y36(_.F),e.Y36(n.qu),e.Y36(m.F0),e.Y36(m.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-reset-password"]],decls:1,vars:1,consts:[["class","d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"col-12","col-lg-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"text-center","mb-4"],[1,"mb-3","font-weight-normal"],[1,"form-group","mb-3-3"],[1,"input-field","my-2"],[1,"fa","fa-user","p-2"],["formControlName","email","type","text","placeholder","\u0418\u043c\u0435\u0439\u043b",1,"form-control"],[1,"form-group","pt-3"],[1,"fa","fa-lock","p-2"],["formControlName","newPassword","placeholder","\u041d\u043e\u0432\u0430 \u041f\u0430\u0440\u043e\u043b\u0430",3,"type"],[3,"click"],["class","text-danger",4,"ngIf"],["class","form-floating",4,"ngIf"],[1,"row"],[1,"col-6"],[1,"d-grid"],["type","submit",1,"btn","btn-success"],["type","button",1,"btn","btn-danger",3,"click"],[1,"text-danger"],[1,"form-floating"],[3,"errorMessages"]],template:function(i,u){1&i&&e.YNc(0,re,27,10,"div",0),2&i&&e.Q6J("ngIf",u.token&&u.email)},dependencies:[g.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,h.s],styles:["input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{border:none;outline:none;box-shadow:none;width:100%}"]})}return r})()}];let ne=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=e.oAB({type:r});static#u=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(ie),m.Bz]})}return r})();var se=l(6208);let oe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=e.oAB({type:r});static#u=this.\u0275inj=e.cJS({imports:[g.ez,ne,se.m]})}return r})()}}]);